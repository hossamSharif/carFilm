"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3671],{3671:(E,d,g)=>{g.d(d,{X:()=>Q});var a=g(655),e=g(9863),_=g(4881),Z=g(1472),c=g(9808),s=g(4182);function m(l,u){1&l&&(e.TgZ(0,"ion-text"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0635\u0646\u0641"),e.qZA())}function p(l,u){1&l&&(e.TgZ(0,"ion-text"),e._uU(1," \u0635\u0646\u0641 \u062c\u062f\u064a\u062f"),e.qZA())}function h(l,u){1&l&&(e.TgZ(0,"ion-text"),e._uU(1," \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0623\u0633\u0639\u0627\u0631"),e.qZA())}function T(l,u){1&l&&(e.TgZ(0,"ion-text"),e._uU(1," \u0625\u0638\u0647\u0627\u0631 \u0648 \u0627\u062e\u0641\u0627\u0621 \u0627\u0644\u0623\u0639\u0645\u062f\u0629 "),e.qZA())}function x(l,u){1&l&&(e.TgZ(0,"ion-text"),e._uU(1," \u0641\u0644\u062a\u0631"),e.qZA())}function A(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-segment",11),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().segment=n})("ionChange",function(n){return e.CHM(t),e.oxw().segmentChanged(n)}),e.TgZ(1,"ion-segment-button",12),e._UZ(2,"ion-icon",13),e.TgZ(3,"ion-label",14),e.TgZ(4,"strong"),e._uU(5,"manualy"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-segment-button",15),e._UZ(7,"ion-icon",16),e.TgZ(8,"ion-label",14),e.TgZ(9,"strong"),e._uU(10,"XLS Sheet"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("ngModel",t.segment)}}function M(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-grid",17),e.TgZ(2,"ion-row"),e.TgZ(3,"ion-col",18),e.TgZ(4,"ion-grid"),e.TgZ(5,"ion-row",7),e.TgZ(6,"ion-col",19),e.TgZ(7,"ion-label",14),e.TgZ(8,"strong"),e._uU(9,"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641"),e.qZA(),e.qZA(),e.TgZ(10,"ion-item",20),e.TgZ(11,"ion-input",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().selectedItem.item_name=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"ion-col",22),e.TgZ(13,"ion-label",14),e.TgZ(14,"strong"),e._uU(15,"\u0627\u0644\u0642\u0627\u0626\u0645\u0629 (menu)"),e.qZA(),e.qZA(),e.TgZ(16,"ion-item",20),e.TgZ(17,"ion-input",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().selectedItem.brand=n}),e.qZA(),e.qZA(),e.qZA(),e._UZ(18,"th"),e.TgZ(19,"ion-col",23),e.TgZ(20,"ion-label",14),e.TgZ(21,"strong"),e._uU(22,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0647 (selling price)"),e.qZA(),e.qZA(),e.TgZ(23,"ion-item",20),e.TgZ(24,"ion-input",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().selectedItem.pay_price=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"ion-col",23),e.TgZ(26,"ion-label",14),e.TgZ(27,"strong"),e._uU(28," \u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629 (cost value)"),e.qZA(),e.qZA(),e.TgZ(29,"ion-item",20),e.TgZ(30,"ion-input",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().selectedItem.perch_price=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"ion-col",22),e.TgZ(32,"ion-label",14),e.TgZ(33,"strong"),e._uU(34,"\u0627\u0644\u0648\u062d\u062f\u0647"),e.qZA(),e.qZA(),e.TgZ(35,"ion-item",20),e.TgZ(36,"ion-input",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().selectedItem.item_unit=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"ion-col",22),e.TgZ(38,"ion-label",14),e.TgZ(39,"strong"),e._uU(40,"\u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),e.qZA(),e.qZA(),e.TgZ(41,"ion-item",20),e.TgZ(42,"ion-input",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().selectedItem.tax=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"ion-row",7),e.TgZ(44,"ion-col",9),e.TgZ(45,"ion-button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().save()}),e.TgZ(46,"ion-label",3),e._uU(47," \u062d\u0641\u0640\u0640\u0638"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&l){const t=e.oxw();e.xp6(11),e.Q6J("ngModel",t.selectedItem.item_name),e.xp6(6),e.Q6J("ngModel",t.selectedItem.brand),e.xp6(7),e.Q6J("ngModel",t.selectedItem.pay_price),e.xp6(6),e.Q6J("ngModel",t.selectedItem.perch_price),e.xp6(6),e.Q6J("ngModel",t.selectedItem.item_unit),e.xp6(6),e.Q6J("ngModel",t.selectedItem.tax)}}function f(l,u){1&l&&(e.TgZ(0,"ion-text",25),e._uU(1," \u0642\u064a\u0645\u0629 \u0627\u0644\u0632\u064a\u0627\u062f\u0629 "),e.qZA())}function q(l,u){1&l&&(e.TgZ(0,"ion-text",25),e._uU(1," \u0642\u064a\u0645\u0629 \u0627\u0644\u0646\u0642\u0635\u0627\u0646 "),e.qZA())}function C(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-item",39),e.TgZ(1,"ion-input",40),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(2).price.payval=n}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.price.payval)}}function b(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-item",39),e.TgZ(1,"ion-input",40),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(2).price.perchval=n}),e.qZA(),e.qZA()}if(2&l){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.price.perchval)}}function I(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-grid",17),e.TgZ(1,"ion-row"),e.TgZ(2,"ion-col",22),e.TgZ(3,"ion-label"),e.TgZ(4,"ion-text",25),e._uU(5,"\u0627\u062e\u062a\u0631 \u0627\u0644\u0633\u0639\u0631"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-col",26),e.TgZ(7,"ion-radio-group",27),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().price.type=n})("ionChange",function(n){return e.CHM(t),e.oxw().typeChange(n)}),e.TgZ(8,"ion-grid",28),e.TgZ(9,"ion-row"),e.TgZ(10,"ion-col",28),e.TgZ(11,"ion-item",29),e._UZ(12,"ion-radio",30),e.TgZ(13,"ion-label"),e._uU(14,"\u0633\u0639\u0631 \u0628\u064a\u0639"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"ion-col",28),e.TgZ(16,"ion-item",29),e._UZ(17,"ion-radio",31),e.TgZ(18,"ion-label"),e._uU(19,"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"ion-row"),e.TgZ(21,"ion-col",32),e.TgZ(22,"ion-label"),e.TgZ(23,"ion-text",25),e._uU(24," \u0627\u0644\u062a\u0639\u062f\u064a\u0644"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"ion-col",26),e.TgZ(26,"ion-radio-group",27),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().price.status=n})("ionChange",function(n){return e.CHM(t),e.oxw().statusChange(n)}),e.TgZ(27,"ion-grid",33),e.TgZ(28,"ion-row"),e.TgZ(29,"ion-col"),e.TgZ(30,"ion-item",29),e._UZ(31,"ion-radio",34),e.TgZ(32,"ion-label"),e._uU(33,"\u0632\u064a\u0627\u062f\u0629"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"ion-col"),e.TgZ(35,"ion-item",29),e._UZ(36,"ion-radio",35),e.TgZ(37,"ion-label"),e._uU(38,"\u0646\u0642\u0635\u0627\u0646"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"ion-row"),e.TgZ(40,"ion-col",22),e.TgZ(41,"ion-label"),e.YNc(42,f,2,0,"ion-text",36),e.YNc(43,q,2,0,"ion-text",36),e.qZA(),e.qZA(),e.TgZ(44,"ion-col",37),e.YNc(45,C,2,1,"ion-item",38),e.YNc(46,b,2,1,"ion-item",38),e.qZA(),e.qZA(),e.TgZ(47,"ion-row",7),e.TgZ(48,"ion-col",9),e.TgZ(49,"ion-button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().updatePrice()}),e.TgZ(50,"ion-label",3),e._uU(51," \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0623\u0633\u0639\u0627\u0631 "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&l){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.price.type),e.xp6(19),e.Q6J("ngModel",t.price.status),e.xp6(16),e.Q6J("ngIf","plus"==t.price.status),e.xp6(1),e.Q6J("ngIf","minus"==t.price.status),e.xp6(2),e.Q6J("ngIf","pay"==t.price.type),e.xp6(1),e.Q6J("ngIf","perch"==t.price.type)}}function J(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"ion-card",41),e.TgZ(2,"ion-grid"),e.TgZ(3,"ion-row",7),e.TgZ(4,"ion-col",23),e.TgZ(5,"input",42),e.NdJ("change",function(n){return e.CHM(t),e.oxw().fileChange(n)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-row",43),e.TgZ(7,"ion-col",23),e.TgZ(8,"ion-button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().truncateItems()}),e._uU(9," Upload File "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&l){const t=e.oxw();e.xp6(8),e.Q6J("disabled",!t.uploadedFiles)}}function P(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-grid",17),e.TgZ(1,"ion-row"),e.TgZ(2,"ion-col",18),e.TgZ(3,"ion-list"),e.TgZ(4,"ion-item"),e.TgZ(5,"ion-label"),e._uU(6,"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641"),e.qZA(),e.TgZ(7,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.item_name=n}),e.qZA(),e.qZA(),e.TgZ(8,"ion-item"),e.TgZ(9,"ion-label"),e._uU(10,"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641 (en)"),e.qZA(),e.TgZ(11,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.item_desc=n}),e.qZA(),e.qZA(),e.TgZ(12,"ion-item"),e.TgZ(13,"ion-label"),e._uU(14,"\u0627\u0633\u0645 \u0645\u0633\u062a\u0639\u0627\u0631 (Alias)"),e.qZA(),e.TgZ(15,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.aliasEn=n}),e.qZA(),e.qZA(),e.TgZ(16,"ion-item"),e.TgZ(17,"ion-label"),e._uU(18," \u0627\u0644\u0645\u0648\u062f\u064a\u0644 (model) "),e.qZA(),e.TgZ(19,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.model=n}),e.qZA(),e.qZA(),e.TgZ(20,"ion-item"),e.TgZ(21,"ion-label"),e._uU(22," \u0627\u0644\u0643\u0648\u062f (part no) "),e.qZA(),e.TgZ(23,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.part_no=n}),e.qZA(),e.qZA(),e.TgZ(24,"ion-item"),e.TgZ(25,"ion-label"),e._uU(26," \u0627\u0644\u0645\u0627\u0631\u0643\u0629 (brand) "),e.qZA(),e.TgZ(27,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.brand=n}),e.qZA(),e.qZA(),e.TgZ(28,"ion-item"),e.TgZ(29,"ion-label"),e._uU(30," \u0627\u0642\u0644 \u0643\u0645\u064a\u0629 (MSQ) "),e.qZA(),e.TgZ(31,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.min_qty=n}),e.qZA(),e.qZA(),e.TgZ(32,"ion-item"),e.TgZ(33,"ion-label"),e._uU(34," \u0627\u0644\u0648\u062d\u062f\u0647 (unit) "),e.qZA(),e.TgZ(35,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.item_unit=n}),e.qZA(),e.qZA(),e.TgZ(36,"ion-item"),e.TgZ(37,"ion-label"),e._uU(38," \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 (purch price) "),e.qZA(),e.TgZ(39,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.perch_price=n}),e.qZA(),e.qZA(),e.TgZ(40,"ion-item"),e.TgZ(41,"ion-label"),e._uU(42," \u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0647 (selling price) "),e.qZA(),e.TgZ(43,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.pay_price=n}),e.qZA(),e.qZA(),e.TgZ(44,"ion-item"),e.TgZ(45,"ion-label"),e._uU(46," \u0646\u0633\u0628\u0629 \u0627\u0644\u0641\u0627\u0626\u062f\u0629 (profit perc) "),e.qZA(),e.TgZ(47,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.profit=n}),e.qZA(),e.qZA(),e.TgZ(48,"ion-item"),e.TgZ(49,"ion-label"),e._uU(50," \u0627\u0644\u0645\u062e\u0632\u0648\u0646 (in stock) "),e.qZA(),e.TgZ(51,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.instock=n}),e.qZA(),e.qZA(),e.TgZ(52,"ion-item"),e.TgZ(53,"ion-label"),e._uU(54," \u0627\u0644\u0645\u062c\u0645\u0648\u0639 "),e.qZA(),e.TgZ(55,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.total=n}),e.qZA(),e.qZA(),e.TgZ(56,"ion-item"),e.TgZ(57,"ion-label"),e._uU(58," \u0627\u062e\u0631 \u0639\u0645\u0644\u064a\u0629 \u0628\u064a\u0639 "),e.qZA(),e.TgZ(59,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.lastSold=n}),e.qZA(),e.qZA(),e.TgZ(60,"ion-item"),e.TgZ(61,"ion-label"),e._uU(62," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(63,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.edit=n}),e.qZA(),e.qZA(),e.TgZ(64,"ion-item"),e.TgZ(65,"ion-label"),e._uU(66," \u062d\u0630\u0641 "),e.qZA(),e.TgZ(67,"ion-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().colSettingpr.delete=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&l){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.colSettingpr.item_name),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.item_desc),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.aliasEn),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.model),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.part_no),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.brand),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.min_qty),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.item_unit),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.perch_price),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.pay_price),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.profit),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.instock),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.total),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.lastSold),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.edit),e.xp6(4),e.Q6J("ngModel",t.colSettingpr.delete)}}function k(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-checkbox",27),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.selected=n})("ionChange",function(n){return e.CHM(t),e.oxw(2).brandChange(n)}),e.qZA(),e.qZA()}if(2&l){const t=u.$implicit;e.xp6(2),e.hij(" ",t.brand," "),e.xp6(1),e.Q6J("ngModel",t.selected)}}function y(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-checkbox",27),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.selected=n})("ionChange",function(n){return e.CHM(t),e.oxw(2).modelChange(n)}),e.qZA(),e.qZA()}if(2&l){const t=u.$implicit;e.xp6(2),e.hij(" ",t.model," "),e.xp6(1),e.Q6J("ngModel",t.selected)}}function v(l,u){if(1&l&&(e.TgZ(0,"ion-grid",17),e.TgZ(1,"ion-row"),e.TgZ(2,"ion-col",18),e.TgZ(3,"ion-list"),e.TgZ(4,"ion-list-header",45),e._uU(5,"\u0627\u0644\u0645\u0627\u0631\u0643\u0629 (brand)"),e.qZA(),e.YNc(6,k,4,2,"ion-item",46),e.qZA(),e.TgZ(7,"ion-list"),e.TgZ(8,"ion-list-header",45),e._uU(9,"\u0627\u0644\u0645\u0648\u062f\u064a\u0644(model)"),e.qZA(),e.YNc(10,y,4,2,"ion-item",46),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&l){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.brandList),e.xp6(4),e.Q6J("ngForOf",t.modelList)}}function U(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).clearFilter()}),e.TgZ(1,"ion-label",3),e.TgZ(2,"ion-text",25),e._uU(3," \u0625\u0644\u063a\u0627\u0621 \u0643\u0644 \u0627\u0644\u0641\u0644\u062a\u0631 "),e.qZA(),e.qZA(),e.qZA()}}function w(l,u){if(1&l&&(e.TgZ(0,"ion-col",9),e.YNc(1,U,4,0,"ion-button",47),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","filter"==t.status)}}function S(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().setColomns()}),e.TgZ(1,"ion-label",3),e._uU(2," \u062d\u0641\u0640\u0640\u0638 "),e.qZA(),e.qZA()}}function N(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"ion-button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().setFilter()}),e.TgZ(1,"ion-label",3),e._uU(2," \u062d\u0641\u0640\u0640\u0638 "),e.qZA(),e.qZA()}}let Q=(()=>{class l{constructor(t,i,n,o){this.loadingController=t,this.api=i,this.modalController=n,this.toast=o,this.shortLink="",this.loading=!1,this.file=null,this.segment="manual",this.selectedItem={id:"",item_name:"",model:"",part_no:"",min_qty:0,brand:"",pay_price:"",perch_price:"",item_unit:"",item_desc:"",item_parcode:"",aliasEn:"",tax:0,imgUrl:""},this.firstqObj={id:"",item_id:"",store_id:"",quantity:0,fq_year:"",pay_price:"",perch_price:""},this.colSettingpr={id:!0,item_name:!0,model:!0,part_no:!0,min_qty:!0,brand:!0,pay_price:!0,perch_price:!0,item_unit:!0,item_desc:!0,item_parcode:!0,profit:!0,instock:!0,total:!0,lastSold:!0,edit:!0,delete:!0,aliasEn:!0},this.price={payval:0,perchval:0,type:"pay",status:"plus"}}ngOnInit(){this.checkstatus()}fileChange(t){this.uploadedFiles=t.target.files[0]}truncateItems(){this.presentLoadingWithOptions("uploading ..."),this.api.truncateItems().subscribe(t=>{"Post not delete"!=t.message?this.upload():this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0633\u064a\u0631\u0641\u0631")},t=>{this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0633\u064a\u0631\u0641\u0631")})}upload(){let t=new FormData;t.append("avatar",this.uploadedFiles),console.log(t),this.api.uploadItems(t).subscribe(i=>{this.loadingController.dismiss(),this.presentToast("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d","success")},i=>{this.presentToast("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0633\u064a\u0631\u0641\u0631")})}presentLoadingWithOptions(t){return(0,a.mG)(this,void 0,void 0,function*(){const i=yield this.loadingController.create({spinner:"bubbles",mode:"ios",message:t,translucent:!0,backdropDismiss:!1});yield i.present(),yield i.onDidDismiss()})}onChange(t){this.file=t.target.files[0]}onUpload(){this.loading=!this.loading,this.api.uploadImg(this.file).subscribe(t=>{"object"==typeof t&&(this.shortLink=t.link,this.loading=!1)})}segmentChanged(t){console.log(t.target.value)}checkstatus(){"edit"==this.status?this.selectedItem={id:this.item.id,item_name:this.item.item_name,model:this.item.model,part_no:this.item.part_no,min_qty:this.item.min_qty,brand:this.item.brand,pay_price:this.item.pay_price,perch_price:this.item.perch_price,item_unit:this.item.item_unit,item_desc:this.item.item_desc,item_parcode:this.item.item_parcode,aliasEn:this.item.aliasEn,tax:this.item.tax,imgUrl:this.item.imgUrl}:"settings"==this.status?this.colSettingpr={id:this.colSetting.id,item_name:this.colSetting.item_name,model:this.colSetting.model,part_no:this.colSetting.part_no,min_qty:this.colSetting.min_qty,brand:this.colSetting.brand,pay_price:this.colSetting.pay_price,perch_price:this.colSetting.perch_price,item_unit:this.colSetting.item_unit,item_desc:this.colSetting.item_desc,item_parcode:this.colSetting.item_parcode,profit:this.colSetting.profit,instock:this.colSetting.instock,total:this.colSetting.total,lastSold:this.colSetting.lastSold,edit:this.colSetting.edit,delete:this.colSetting.delete,aliasEn:this.colSetting.aliasEn}:"filter"==this.status&&(this.filterArray=this.filterArrayOrign)}typeChange(t){}statusChange(t){}save(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.modalController.dismiss([this.selectedItem,this.firstqObj],this.status)})}setColomns(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.modalController.dismiss(this.colSettingpr,this.status)})}brandChange(t){}modelChange(t){}setFilter(){return(0,a.mG)(this,void 0,void 0,function*(){this.filterArray=this.filterArrayOrign;let t=[];for(let i=0;i<this.brandList.length;i++){const n=this.brandList[i];if(1==n.selected){let o=[];o=this.filterArray.filter(r=>r.brand==n.brand),o.length>0&&o.forEach(r=>{t.push(r)})}}for(let i=0;i<this.modelList.length;i++){const n=this.modelList[i];if(1==n.selected){let o=[];o=this.filterArray.filter(r=>r.model==n.model),o.length>0&&o.forEach(r=>{t.push(r)})}}this.filterArray=t,yield this.modalController.dismiss([this.filterArrayOrign,this.filterArray,this.modelList,this.brandList,"filter"],this.status)})}clearFilter(){return(0,a.mG)(this,void 0,void 0,function*(){this.modelList.forEach(t=>{t.selected=!1}),this.brandList.forEach(t=>{t.selected=!1}),this.filterArray=this.filterArrayOrign,yield this.modalController.dismiss([this.filterArrayOrign,this.filterArray,this.modelList,this.brandList,"clear"],this.status)})}updatePrice(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.modalController.dismiss(this.price,this.status)})}presentToast(t,i){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:t,duration:2e3,color:i,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}validate(){return""!=this.selectedItem.item_name&&0!=+this.selectedItem.perch_price&&0!=+this.selectedItem.pay_price||(this.presentToast("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629","danger"),!1)}closeModal(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.modalController.dismiss()})}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(_.HT),e.Y36(Z.r),e.Y36(_.IN),e.Y36(_.yF))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-item-modal"]],inputs:{item:"item",status:"status",filterArrayOrign:"filterArrayOrign",filterArray:"filterArray",brandList:"brandList",modelList:"modelList",firstq:"firstq",colSetting:"colSetting"},decls:25,vars:14,consts:[["slot","end"],["fill","clear",3,"click"],["name","close-circle-outline","color","danger"],[1,"ion-text-center"],[4,"ngIf"],["scrollable","","value","heart","value","manual",3,"ngModel","ngModelChange","ionChange",4,"ngIf"],["dir","rtl",4,"ngIf"],[1,"ion-justify-content-center"],["size","5",4,"ngIf"],["size","5"],["expand","block","color","success",3,"click",4,"ngIf"],["scrollable","","value","heart","value","manual",3,"ngModel","ngModelChange","ionChange"],["value","manual"],["name","hand-left-outline"],[1,"ion-padding"],["value","xls"],["name","newspaper-outline"],["dir","rtl"],["size","12",1,"ion-padding"],["size","9"],[1,"custInput"],[3,"ngModel","ngModelChange"],["size","4"],["size","6"],["expand","block","color","success",3,"click"],["color","dark"],["size","8",1,"ion-padding"],[3,"ngModel","ngModelChange","ionChange"],[1,"ion-no-padding","ion-no-margin"],["lines","none"],["value","pay",1,"ion-margin-end"],["value","perch",1,"ion-margin-end"],["size","2"],[1,"ion-padding","ion-margin"],["value","plus",1,"ion-margin-end"],["value","minus",1,"ion-margin-end"],["color","dark",4,"ngIf"],["size","4",1,"ion-padding"],["lines","none","class","custInput",4,"ngIf"],["lines","none",1,"custInput"],[1,"ion-margin-end",3,"ngModel","ngModelChange"],[1,"ion-margin-top"],["type","file",3,"change"],[1,"ion-justify-content-center","ion-margin-top"],["expand","block","color","success",3,"disabled","click"],["color","light"],[4,"ngFor","ngForOf"],["expand","block","fill","outline","color","light",3,"click",4,"ngIf"],["expand","block","fill","outline","color","light",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",0),e.TgZ(3,"ion-button",1),e.NdJ("click",function(){return i.closeModal()}),e._UZ(4,"ion-icon",2),e.qZA(),e.qZA(),e.TgZ(5,"ion-title",3),e.YNc(6,m,2,0,"ion-text",4),e.YNc(7,p,2,0,"ion-text",4),e.YNc(8,h,2,0,"ion-text",4),e.YNc(9,T,2,0,"ion-text",4),e.YNc(10,x,2,0,"ion-text",4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"ion-content"),e.YNc(12,A,11,1,"ion-segment",5),e.YNc(13,M,48,6,"div",4),e.YNc(14,I,52,6,"ion-grid",6),e.YNc(15,J,10,1,"div",4),e.YNc(16,P,68,16,"ion-grid",6),e.YNc(17,v,11,2,"ion-grid",6),e.qZA(),e.TgZ(18,"ion-footer"),e.TgZ(19,"ion-grid"),e.TgZ(20,"ion-row",7),e.YNc(21,w,2,1,"ion-col",8),e.TgZ(22,"ion-col",9),e.YNc(23,S,3,0,"ion-button",10),e.YNc(24,N,3,0,"ion-button",10),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngIf","edit"==i.status),e.xp6(1),e.Q6J("ngIf","save"==i.status),e.xp6(1),e.Q6J("ngIf","price"==i.status),e.xp6(1),e.Q6J("ngIf","settings"==i.status),e.xp6(1),e.Q6J("ngIf","filter"==i.status),e.xp6(2),e.Q6J("ngIf","price"==i.status),e.xp6(1),e.Q6J("ngIf","edit"==i.status||"save"==i.status),e.xp6(1),e.Q6J("ngIf","price"==i.status&&"manual"==i.segment),e.xp6(1),e.Q6J("ngIf","xls"==i.segment&&"price"==i.status),e.xp6(1),e.Q6J("ngIf","settings"==i.status),e.xp6(1),e.Q6J("ngIf","filter"==i.status),e.xp6(4),e.Q6J("ngIf","filter"==i.status),e.xp6(2),e.Q6J("ngIf","settings"==i.status),e.xp6(1),e.Q6J("ngIf","filter"==i.status))},directives:[_.Gu,_.sr,_.Sm,_.YG,_.gu,_.wd,c.O5,_.W2,_.fr,_.jY,_.Nd,_.wI,_.yW,_.cJ,_.QI,s.JJ,s.On,_.GO,_.Q$,_.Ie,_.pK,_.j9,_.se,_.B7,_.U5,_.PM,_.q_,_.nz,_.w,_.yh,c.sg],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}"]}),l})()}}]);