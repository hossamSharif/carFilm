"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(L,d,r)=>{r.r(d),r.d(d,{LoginPageModule:()=>v});var u=r(9808),c=r(4182),i=r(4881),h=r(4030),_=r(655),o=r(9863),p=r(1472),Z=r(849),m=r(5465);function f(t,a){if(1&t){const e=o.EpF();o.TgZ(0,"ion-col",4),o.TgZ(1,"ion-card",5),o.TgZ(2,"ion-card-header",6),o.TgZ(3,"h3"),o._uU(4," Login "),o.qZA(),o.qZA(),o.TgZ(5,"ion-grid"),o.TgZ(6,"ion-row",1),o.TgZ(7,"ion-col",7),o.TgZ(8,"ion-item",8),o._UZ(9,"ion-icon",9),o.TgZ(10,"ion-input",10),o.NdJ("ngModelChange",function(s){return o.CHM(e),o.oxw().USER_INFO.user_name=s}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"ion-col",7),o.TgZ(12,"ion-item",8),o._UZ(13,"ion-icon",11),o.TgZ(14,"ion-input",12),o.NdJ("ngModelChange",function(s){return o.CHM(e),o.oxw().USER_INFO.password=s}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"ion-row",1),o.TgZ(16,"ion-col",13),o.TgZ(17,"ion-button",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().loginUser()}),o.TgZ(18,"ion-label",6),o._uU(19," Login"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(10),o.Q6J("ngModel",e.USER_INFO.user_name),o.xp6(4),o.Q6J("ngModel",e.USER_INFO.password)}}function T(t,a){if(1&t){const e=o.EpF();o.TgZ(0,"ion-col",15),o.TgZ(1,"ion-card",5),o.TgZ(2,"ion-card-header",6),o.TgZ(3,"h3"),o._uU(4," Login "),o.qZA(),o.qZA(),o.TgZ(5,"ion-grid"),o.TgZ(6,"ion-row",1),o.TgZ(7,"ion-col",7),o.TgZ(8,"ion-item",8),o._UZ(9,"ion-icon",9),o.TgZ(10,"ion-input",10),o.NdJ("ngModelChange",function(s){return o.CHM(e),o.oxw().USER_INFO.user_name=s}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"ion-col",7),o.TgZ(12,"ion-item",8),o._UZ(13,"ion-icon",11),o.TgZ(14,"ion-input",12),o.NdJ("ngModelChange",function(s){return o.CHM(e),o.oxw().USER_INFO.password=s}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"ion-row",1),o.TgZ(16,"ion-col",13),o.TgZ(17,"ion-button",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().loginUser()}),o.TgZ(18,"ion-label",6),o._uU(19," Login"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(10),o.Q6J("ngModel",e.USER_INFO.user_name),o.xp6(4),o.Q6J("ngModel",e.USER_INFO.password)}}const A=[{path:"",component:(()=>{class t{constructor(e,n,s,l,g,C){this.platform=e,this.api=n,this.storage=s,this.toast=l,this.loadingController=g,this.authenticationService=C,this.offline=!1,this.stores=[],this.device="",this.store_info={id:1,store_ref:"sh",store_name:"sooq sha'by",location:""},this.USER_INFO={id:"",user_name:"",store_id:"",full_name:"",password:""}}checkPlatform(){this.platform.is("desktop")?(this.device="desktop",console.log("I am an desktop device!")):this.platform.is("mobile")&&(this.device="mobile",console.log("I am an mobile device!"))}ngOnInit(){this.checkPlatform(),this.getStore(),this.getCompany()}pickDetail(e){let n=this.stores.filter(s=>s.store_name==e.target.value);console.log(n),this.store_info={id:n[0].id,store_name:n[0].store_name,store_ref:n[0].store_ref,location:n[0].location},this.USER_INFO.store_id=n[0].id,console.log(this.store_info)}getStore(){this.api.getStores().subscribe(e=>{console.log(e),this.stores=e.data,this.setStoreLocaly(),this.setCurrentStoreLocaly()},e=>{console.log(e)})}getCompany(){this.api.getCompany().subscribe(e=>{console.log("companay",e),this.company=e.data},e=>{})}setCurrentStoreLocaly(){this.store_info={id:"1",store_ref:"sh",store_name:"sooq sha'by",location:""},this.USER_INFO.store_id=this.store_info.id,this.storage.set("STORE_INFO",this.store_info).then(e=>{this.storage.set("offline",!1).then(n=>{})})}setStoreLocaly(){this.storage.set("STORES",this.stores).then(e=>{this.storage.set("offline",!1).then(n=>{})})}presentToast(e,n){return(0,_.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:e,duration:2e3,color:n,cssClass:"cust_Toast",mode:"ios",position:"top"})).present()})}presentLoadingWithOptions(e){return(0,_.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create({spinner:"bubbles",mode:"ios",duration:2e3,message:e,translucent:!0,backdropDismiss:!1});yield n.present();const{role:s}=yield n.onDidDismiss();n.onDidDismiss().then(g=>{console.log(g)}),console.log("Loading dismissed with role:",s)})}loginUser(){""==this.USER_INFO.user_name||""==this.USER_INFO.password?this.presentToast("please fill all requaired feild","danger"):(this.storage.set("STORE_INFO",this.store_info).then(e=>{}),this.storage.set("company",this.company).then(e=>{}),this.authenticationService.login(this.USER_INFO))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.t4),o.Y36(p.r),o.Y36(Z.K),o.Y36(i.yF),o.Y36(i.HT),o.Y36(m.u))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:5,vars:2,consts:[["dir","rtl",1,"custRow"],[1,"ion-justify-content-center"],["size","6",4,"ngIf"],["size","12",4,"ngIf"],["size","6"],[1,"cust-card"],[1,"ion-text-center"],["size","7"],[1,"custInput"],["name","lock-closed-outline","slot","end"],["placeholder","user_name",3,"ngModel","ngModelChange"],["name","eye-outline","slot","end"],["type","password","placeholder","password",3,"ngModel","ngModelChange"],["size","5"],["expand","block","routerDirection","root","color","success",3,"click"],["size","12"]],template:function(e,n){1&e&&(o.TgZ(0,"ion-content"),o.TgZ(1,"ion-grid",0),o.TgZ(2,"ion-row",1),o.YNc(3,f,20,2,"ion-col",2),o.YNc(4,T,20,2,"ion-col",3),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","desktop"==n.device),o.xp6(1),o.Q6J("ngIf","mobile"==n.device))},directives:[i.W2,i.jY,i.Nd,u.O5,i.wI,i.PM,i.Zi,i.Ie,i.gu,i.pK,i.j9,c.JJ,c.On,i.YG,i.Q$],styles:[".custInput[_ngcontent-%COMP%]{border-style:solid;border-color:var(--ion-color-light);border-radius:5px}.custRow[_ngcontent-%COMP%]{margin-top:5rem}.cust-card[_ngcontent-%COMP%]{border-radius:5px}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[h.Bz.forChild(A)],h.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[u.ez,c.u5,i.Pc,M]]}),t})()}}]);